{"version":3,"sources":["components/list.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAuBA;gBAOI,YAAoB,WAAuB,EAC/B,KAAqB,EACrB,MAAc;oBAFN,gBAAW,GAAX,WAAW,CAAY;oBAC/B,UAAK,GAAL,KAAK,CAAgB;oBACrB,WAAM,GAAN,MAAM,CAAQ;oBALnB,eAAU,GAAmC,IAAI,iCAAe,CAAC,IAAI,KAAK,EAAU,CAAC,CAAC;gBAO7F,CAAC;gBAED,WAAW,CAAC,MAAM;oBACd,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAgB;wBAC9F,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACjC,CAAC,CAAC,CAAC;gBACP,CAAC;gBAED,QAAQ;oBACJ,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI;yBAC9B,SAAS,CAAC,CAAC,MAAW;wBACnB,8EAA8E;wBAC9E,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;oBAC/B,CAAC,CAAC,CAAC;gBACX,CAAC;gBAED,WAAW;oBACP,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;gBACpC,CAAC;YACL,CAAC;YA7CD;gBAAC,gBAAS,CAAC;oBACP,QAAQ,EAAE,SAAS;oBACnB,WAAW,EAAE,2BAA2B;oBACxC,IAAI,EAAE;wBACF,mBAAmB,EAAE,MAAM;qBAC9B;oBACD,UAAU,EAAE;wBACR,cAAO,CAAC,gBAAgB,EAAE;4BACtB,iBAAU,CAAC,WAAW,EAAE,cAAO,CAAC,eAAe,CAAC,CAAC;4BACjD,iBAAU,CAAC,WAAW,EAAE,cAAO,CAAC,gBAAgB,CAAC,CAAC,CAAE,gBAAgB;yBACvE,CAAC;qBACL;iBACJ,CAAC;gBAED,iBAAU,EAAE;;2BAAA;YACb,qCA8BC,CAAA","file":"components/list.js","sourcesContent":["import {WebService} from '../services/webService';\r\nimport {Component, Injectable, OnInit, OnDestroy, trigger, transition, animate} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\nimport {GridConfiguration} from '../models/gridConfiguration';\r\n\r\n@Component({\r\n    selector: 'list-ui',\r\n    templateUrl: '../../views/listView.html',\r\n    host: {\r\n        '[@routeAnimation]': \"true\"\r\n    },\r\n    animations: [\r\n        trigger('routeAnimation', [\r\n            transition('* => void', animate('100ms ease-in')),\r\n            transition('void => *', animate('100ms ease-out'))  // For next page\r\n        ])\r\n    ]\r\n})\r\n\r\n@Injectable()\r\nexport class ListElement implements OnInit, OnDestroy {\r\n    config: GridConfiguration;\r\n    private subscription: Subscription;\r\n    search: string;\r\n    public collection: BehaviorSubject<Array<Object>> = new BehaviorSubject(new Array<Object>());\r\n\r\n\r\n    constructor(private _webService: WebService,\r\n        private route: ActivatedRoute,\r\n        private router: Router) {\r\n\r\n    }\r\n\r\n    searchItems(newVal) {\r\n        this._webService.getItems(+this.route.snapshot.params['type'], this.search).then((result: Object[]) => {\r\n            this.collection.next(result);\r\n        });\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.subscription = this.route.data\r\n            .subscribe((result: any) => {//according to router definition  resolve: { items: ListResolver }\r\n                //the result is {items:dataFromWS}, the structure is set in the resolve object\r\n                this.config = result.items;\r\n            });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.subscription.unsubscribe();\r\n    }\r\n}"],"sourceRoot":"/source/"}